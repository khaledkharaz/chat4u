<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Persona Chat</title>
    <!-- Use a professional looking font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Dark Mode Toggle Button -->
    <!-- Positioned absolutely for more precise placement -->
    <button id="dark-mode-toggle" class="mode-toggle" aria-label="Toggle Dark Mode">
        <svg class="mode-icon sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
        <svg class="mode-icon moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
    </button>


    <div class="container">
        <!-- Persona Selection View -->
        <div id="persona-selection" class="view">
            <h2>Choose your conversation partner:</h2>

            <!-- Filter Section -->
            <div id="persona-filters">
                <label>Filter by:</label>
                <div class="filter-options" role="tablist">
                    <!-- Keep your radio buttons as they are, styled via CSS -->
                    <input type="radio" id="filter-all" name="persona-type" value="all" checked aria-controls="persona-grid">
                    <label for="filter-all" role="tab" aria-selected="true">All</label>

                    <input type="radio" id="filter-female" name="persona-type" value="female" aria-controls="persona-grid">
                    <label for="filter-female" role="tab">Girls</label>

                    <input type="radio" id="filter-male" name="persona-type" value="male" aria-controls="persona-grid">
                    <label for="filter-male" role="tab">Boys</label>

                     <input type="radio" id="filter-romantic" name="persona-type" value="romantic" aria-controls="persona-grid">
                    <label for="filter-romantic" role="tab">Romantic</label>

                    <input type="radio" id="filter-complex-relationship" name="persona-type" value="complex-relationship" aria-controls="persona-grid">
                    <label for="filter-complex-relationship" role="tab">Complex</label> <!-- Shortened label -->

                    <input type="radio" id="filter-professional" name="persona-type" value="professional" aria-controls="persona-grid">
                    <label for="filter-professional" role="tab">Professional</label>

                    <input type="radio" id="filter-service" name="persona-type" value="service" aria-controls="persona-grid">
                    <label for="filter-service" role="tab">Service</label>

                    <input type="radio" id="filter-beliefs" name="persona-type" value="beliefs" aria-controls="persona-grid">
                    <label for="filter-beliefs" role="tab">Beliefs</label>

                    <input type="radio" id="filter-fun" name="persona-type" value="fun" aria-controls="persona-grid">
                    <label for="filter-fun" role="tab">Fun</label>

                    <input type="radio" id="filter-anime" name="persona-type" value="anime" aria-controls="persona-grid">
                    <label for="filter-anime" role="tab">Anime</label>
                     <!-- Add more filter types here if needed -->
                </div>
            </div>

            <!-- Search Input -->
             <div class="search-area">
                 <input type="text" id="persona-search" placeholder="Search personas...">
             </div>


            <!-- Container for persona cards - Replaces the select dropdown -->
            <div id="persona-grid" aria-live="polite" aria-atomic="true">
                <!-- Persona cards will be inserted here by JavaScript -->
                <!-- An initial loading or placeholder message can go here -->
            </div>

            <!-- The start chat button is removed as clicking a card starts the chat -->

        </div>

        <!-- Chat View -->
        <div id="chat-container" class="view hidden">
            <div id="chat-header">
                 <button id="back-to-personas" aria-label="Back to persona selection">
                     <!-- Simple back arrow icon -->
                     <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg>
                 </button>
                <span id="current-persona"></span>
                 <button id="clear-chat" aria-label="Clear chat history">
                     <!-- Simple trash can icon -->
                     <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
                 </button>
            </div>
            <div id="chatbox" role="log" aria-live="polite" aria-atomic="false">
                <!-- Initial welcome message or chat history goes here -->
                 <!-- The JS will clear this and add a fresh initial message on start -->
                 <!-- <div class="message bot-message initial-message">
                    <p>Please select a persona to begin your chat.</p>
                </div> -->
            </div>
            <div id="input-area">
                <input type="text" id="user-input" placeholder="Type your message..." aria-label="Type your message" disabled>
                <button id="send-button" disabled aria-label="Send message">Send</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>

</body>
</html>